definitions:
  account.Register:
    properties:
      Email:
        example: user@example.com
        type: string
      bethday:
        example: "2025-03-23T15:04:05-00:00"
        type: string
      community_id:
        example: 1
        type: integer
      home_id:
        example: "1"
        type: string
      name:
        example: kent
        type: string
      password:
        example: yourpassword
        type: string
      permission:
        example: 1
        type: integer
      platform:
        example: 1
        type: integer
    type: object
  account.User:
    properties:
      email:
        example: kent900919@gmail.com
        type: string
      fcmtoken:
        example: example-fcm-token
        type: string
      password:
        example: "09190919"
        type: string
      platform:
        example: App
        type: string
    type: object
  account.UserInfo:
    properties:
      Birthdaytime:
        example: "2025-03-23T15:04:05Z"
        type: string
      Home_id:
        type: string
      PermissionId:
        type: integer
      Platform:
        type: integer
      Session_id:
        type: string
      community_id:
        type: integer
      email:
        type: string
      name:
        type: string
    type: object
  account.UserRequest:
    properties:
      message:
        example: Login successful
        type: string
      token:
        example: example-jwt-token
        type: string
      user_info:
        $ref: '#/definitions/account.UserInfo'
    type: object
  community.CommunityListResponse:
    properties:
      communities:
        items:
          $ref: '#/definitions/community.CommunitySummary'
        type: array
      total:
        example: 1
        type: integer
    type: object
  community.CommunityRegister:
    properties:
      address:
        type: string
      alley_number:
        type: integer
      community_name:
        type: string
      district:
        type: string
      lane_number:
        type: integer
      municipality:
        type: string
      permission_id:
        type: string
      postal_code:
        type: integer
      road_name:
        type: string
    type: object
  community.CommunitySummary:
    properties:
      address:
        example: 251新北市淡水區濱海路一段306巷
        type: string
      alley_number:
        example: 0
        type: integer
      community_id:
        example: 1
        type: integer
      community_name:
        example: 甜水郡社區
        type: string
      district:
        example: 淡水區
        type: string
      lane_number:
        example: 306
        type: integer
      municipality:
        example: 新北市
        type: string
      postal_code:
        example: 251
        type: integer
      road_name:
        example: 濱海路一段
        type: string
    type: object
  message_model.FCMNotificationRequest:
    properties:
      Userselect:
        items:
          type: string
        type: array
      body:
        type: string
      deviceToken:
        type: string
      title:
        type: string
    required:
    - body
    - deviceToken
    - title
    type: object
  message_model.MessageRequest:
    properties:
      Message:
        example: Sucessful send Message
        type: string
    type: object
  model.ErrorRequest:
    properties:
      code:
        example: 400
        type: integer
      error:
        example: error
        type: string
      status:
        example: Bad Request
        type: string
    type: object
  model.RequestMessage:
    properties:
      Message:
        example: message
        type: string
    type: object
  platform.PlatformListResponse:
    properties:
      platforms:
        items:
          $ref: '#/definitions/platform.PlatformSummary'
        type: array
      total:
        type: integer
    type: object
  platform.PlatformSummary:
    properties:
      name:
        type: string
    type: object
info:
  contact: {}
  description: Community_Notification_System
  title: Community_Notification_System
  version: "1.0"
paths:
  /api/v1/community/getlist:
    get:
      consumes:
      - application/json
      description: 依縣市、行政區、郵遞區號或關鍵字等條件查詢社區基本資料清單，並支援分頁查詢。
      parameters:
      - description: 縣市過濾（例如：新北市）
        in: query
        name: municipality
        type: string
      - description: 行政區過濾（例如：淡水區）
        in: query
        name: district
        type: string
      - description: 郵遞區號過濾（例如：251）
        in: query
        name: postal_code
        type: integer
      - description: 關鍵字搜尋（社區名稱或地址）
        in: query
        name: keyword
        type: string
      - description: 頁碼（從 1 開始，預設 1）
        in: query
        name: page
        type: integer
      - description: 每頁筆數（預設 20，最大 100）
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功取得社區清單
          schema:
            $ref: '#/definitions/community.CommunityListResponse'
        "400":
          description: 請求參數錯誤
          schema:
            $ref: '#/definitions/model.ErrorRequest'
        "401":
          description: 未授權
          schema:
            $ref: '#/definitions/model.ErrorRequest'
        "500":
          description: 系統錯誤
          schema:
            $ref: '#/definitions/model.ErrorRequest'
      security:
      - BearerAuth: []
      summary: 取得社區列表
      tags:
      - CommunityManager
  /api/v1/community/register:
    post:
      consumes:
      - application/json
      description: |-
        新增社區基本資料，欄位說明如下：
        - permission_id：綁定社區管理權限的唯一識別字串。
        - postal_code：社區所在地的郵遞區號，以數字表示便於郵遞與查詢。
        - municipality：社區所在的縣市名稱。
        - district：社區所在的鄉鎮市區名稱。
        - road_name：社區主要道路名稱，例如路、街或段。
        - lane_number：地址中的巷或弄號碼，若無請填 0。
        - alley_number：更細分的弄號碼或巷內編號，若無請填 0。
        - community_name：社區或大樓的正式名稱。
        - address：完整地址（含門牌號），提供精確位置資訊。
      parameters:
      - description: 社區基本資料
        in: body
        name: community
        required: true
        schema:
          $ref: '#/definitions/community.CommunityRegister'
      produces:
      - application/json
      responses:
        "200":
          description: 成功新增社區
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 請求參數錯誤
          schema:
            $ref: '#/definitions/model.ErrorRequest'
        "401":
          description: 未授權
          schema:
            $ref: '#/definitions/model.ErrorRequest'
        "500":
          description: 系統錯誤
          schema:
            $ref: '#/definitions/model.ErrorRequest'
      security:
      - BearerAuth: []
      summary: 新增社區
      tags:
      - CommunityManager
  /api/v1/deleteUser:
    post:
      consumes:
      - application/json
      description: 使用者提供帳號與密碼後刪除使用者
      parameters:
      - description: 使用者資料（Email & Password ＆ Platform）
        in: body
        name: login
        required: true
        schema:
          $ref: '#/definitions/account.User'
      produces:
      - application/json
      responses:
        "200":
          description: 登入成功，返回 JWT Token 和成功訊息
          schema:
            $ref: '#/definitions/model.RequestMessage'
        "400":
          description: 無效的輸入資料
          schema:
            $ref: '#/definitions/model.ErrorRequest'
        "401":
          description: 密碼錯誤
          schema:
            $ref: '#/definitions/model.ErrorRequest'
        "404":
          description: 使用者不存在
          schema:
            $ref: '#/definitions/model.ErrorRequest'
        "500":
          description: 系統錯誤或 JWT 簽發失敗
          schema:
            $ref: '#/definitions/model.ErrorRequest'
      security:
      - BearerAuth: []
      summary: 使用者刪除
      tags:
      - User
  /api/v1/login:
    post:
      consumes:
      - application/json
      description: 使用者提供帳號與密碼後登入系統，並取得 JWT Token。登入成功後會設置 session cookie 並返回 JWT token。
      parameters:
      - description: 登入資料（Email & Password）
        in: body
        name: login
        required: true
        schema:
          $ref: '#/definitions/account.User'
      produces:
      - application/json
      responses:
        "200":
          description: 登入成功，返回 JWT Token 和成功訊息
          schema:
            $ref: '#/definitions/account.UserRequest'
        "400":
          description: 無效的輸入資料
          schema:
            $ref: '#/definitions/model.ErrorRequest'
        "401":
          description: 密碼錯誤
          schema:
            $ref: '#/definitions/model.ErrorRequest'
        "404":
          description: 使用者不存在
          schema:
            $ref: '#/definitions/model.ErrorRequest'
        "500":
          description: 系統錯誤或 JWT 簽發失敗
          schema:
            $ref: '#/definitions/model.ErrorRequest'
      summary: 使用者登入
      tags:
      - User
  /api/v1/platform/getlist:
    get:
      consumes:
      - application/json
      description: 取得所有可用平台名稱，供前端顯示於選項列表。
      produces:
      - application/json
      responses:
        "200":
          description: 成功取得平台清單
          schema:
            $ref: '#/definitions/platform.PlatformListResponse'
        "500":
          description: 取得平台資料失敗
          schema:
            $ref: '#/definitions/model.ErrorRequest'
      summary: 取得平台列表
      tags:
      - Platform
  /api/v1/register:
    post:
      consumes:
      - application/json
      description: 新用戶註冊功能，包含基本資料驗證、密碼加密、JWT Token 生成和 Session 設置
      parameters:
      - description: 註冊資料（Email、Password、Name、Birthday、Permission、Platform）
        in: body
        name: Register
        required: true
        schema:
          $ref: '#/definitions/account.Register'
      produces:
      - application/json
      responses:
        "200":
          description: 註冊成功，返回 JWT Token 和成功訊息
          schema:
            $ref: '#/definitions/account.UserRequest'
        "400":
          description: 無效的輸入資料或帳號已存在
          schema:
            $ref: '#/definitions/model.ErrorRequest'
        "500":
          description: 系統錯誤或 JWT 簽發失敗
          schema:
            $ref: '#/definitions/model.ErrorRequest'
      summary: 使用者註冊
      tags:
      - User
  /api/v1/sendmessage:
    post:
      consumes:
      - application/json
      description: 使用者傳送訊息，需要 JWT Token 驗證
      parameters:
      - description: 訊息資料
        in: body
        name: message
        required: true
        schema:
          $ref: '#/definitions/message_model.FCMNotificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 訊息送出成功
          schema:
            $ref: '#/definitions/message_model.MessageRequest'
        "400":
          description: 輸入資料格式錯誤
          schema:
            $ref: '#/definitions/model.ErrorRequest'
        "401":
          description: 未授權，缺少或無效的 JWT Token
          schema:
            $ref: '#/definitions/model.ErrorRequest'
        "500":
          description: 伺服器內部錯誤
          schema:
            $ref: '#/definitions/model.ErrorRequest'
      security:
      - BearerAuth: []
      summary: 傳送訊息
      tags:
      - Message
securityDefinitions:
  BearerAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
